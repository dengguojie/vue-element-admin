#!/usr/bin/env python3
# -*- coding: UTF-8 -*-
"""
DRV Info
"""
# Standard Packages
from enum import Enum


class PROF_CHANNEL_TYPE(Enum):
    """
    Profiling Type
    """
    PROF_TS_TYPE = 0
    PROF_PERIPHERAL_TYPE = 1
    PROF_CHANNEL_TYPE_MAX = 2


class PROF_TYPE(Enum):
    """
    User Profiling Type
    """
    PROF_TASK_BASED = 0
    PROF_SAMPLE_BASED = 1


class PROF_CHANNEL_ID(Enum):
    """
    Channel Id
    """
    CHANNEL_HBM = 1
    CHANNEL_BUS = 2
    CHANNEL_PCIE = 3
    CHANNEL_NIC = 4
    CHANNEL_DMA = 5
    CHANNEL_DVPP = 6
    CHANNEL_DDR = 7
    CHANNEL_LLC = 8
    CHANNEL_HCCS = 9
    CHANNEL_TSCPU = 10
    CHANNEL_AICPU0 = 11  # aicpu: 11---42, reserved
    CHANNEL_AICORE = 43
    CHANNEL_AIV = 85
    CHANNEL_HWTS_LOG1 = 48  # add for ts1 as hwts channel
    CHANNEL_HWTS_CNT = CHANNEL_AICORE
    CHANNEL_TSFW = 44  # add for ts0 as tsfw channel
    CHANNEL_HWTS_LOG = 45  # add for ts0 as hwts channel
    CHANNEL_KEY_POINT = 46
    CHANNEL_TSFW_L2 = 47  # add for ascend910 and ascend610
    CHANNEL_TSFW1 = 49  # add for ts1 as tsfw channel
    CHANNEL_STARS_SOC_LOG_BUFFER = 50
    CHANNEL_STARS_BLOCK_LOG_BUFFER = 51
    CHANNEL_STARS_SOC_PROFILE_BUFFER = 52
    CHANNEL_FFTS_PROFILE_BUFFER_TASK = 53
    CHANNEL_FFTS_PROFILE_BUFFER_SAMPLE = 54
    CHANNEL_TSCPU_MAX = 128
    CHANNEL_ROCE = 129
    CHANNEL_DVPP_VENC = 135  # add for ascend610
    CHANNEL_DVPP_JPEGE = 136  # add for ascend610
    CHANNEL_DVPP_VDEC = 137  # add for ascend610
    CHANNEL_DVPP_JPEGD = 138  # add for ascend610
    CHANNEL_DVPP_VPC = 139  # add for ascend610
    CHANNEL_DVPP_PNG = 140  # add for ascend610
    CHANNEL_DVPP_SCD = 141  # add for ascend610


l2 = ("0x59", "0x5b", "0x5c", "0x62", "0x6a", "0x6c", "0x71", "0x74", "0x77", "0x78", "0x79", "0x7c", "0x7d", "0x7e")


class tagDrvStatus(Enum):
    """
    Drv status tags
    """
    DRV_STATUS_INITING = 0
    DRV_STATUS_WORK = 1
    DRV_STATUS_EXCEPTION = 2
    DRV_STATUS_SLEEP = 3
    DRV_STATUS_COMMUNICATION_LOST = 4
    DRV_STATUS_RESERVED = 5


class AICEventID(Enum):
    VEC_INSTR_EXEC = 0X1
    SCALAR_INSTR_EXEC = 0X2
    CUBE_INSTR_EXEC = 0X3
    MTE1_INSTR_EXEC = 0X4
    MTE2_INSTR_EXEC = 0X5
    MTE3_INSTR_EXEC = 0X6
    TOTAL_INSTR_EXEC = 0X7
    VEC_BUSY_CYCLES = 0X8
    SCALAR_BUSY_CYCLES = 0X9
    CUBE_BUSY_CYCLES = 0XA
    MTE1_BUSY_CYCLES = 0XB
    MTE2_BUSY_CYCLES = 0XC
    MTE3_BUSY_CYCLES = 0XD
    TOTAL_BUSY_CYCLES = 0XE
    L2_READ_REQ = 0XF
    L2_WRITE_REQ = 0X10
    TOTAL_L2_REQ = 0X11
    MAIN_READ_REQ = 0X12
    MAIN_WRITE_REQ = 0X13
    TOTAL_MAIN_REQ = 0X14
    UB_READ_REQ = 0X15
    UB_WRITE_REQ = 0X16
    TOTAL_UB_REQ = 0X17
    UB_READ_CYCLES = 0X18
    UB_WRITE_CYCLES = 0X19
    TOTAL_UB_CYCLES = 0X1A
    L0A_READ_REQ = 0X1B
    L0A_WRITE_REQ = 0X1C
    TOTAL_L0A_REQ = 0X1D
    L0A_READ_CYCLES = 0X1E
    L0A_WRITE_CYCLES = 0X1F
    TOTAL_L0A_CYCLES = 0X20
    L0B_READ_REQ = 0X21
    L0B_WRITE_REQ = 0X22
    TOTAL_L0B_REQ = 0X23
    L0B_READ_CYCLES = 0X24
    L0B_WRITE_CYCLES = 0X25
    TOTAL_L0B_CYCLES = 0X26
    VEC2L0C_READ_REQ = 0X27
    CUBE2L0C_READ_REQ = 0X28
    VEC2L0C_WRITE_REQ = 0X29
    CUBE2L0C_WRITE_REQ = 0X2A
    TOTAL_L0C_REQ = 0X2B
    VEC2L0C_READ_CYCLES = 0X2C
    CUBE2L0C_READ_CYCLES = 0X2D
    VEC2L0C_WRITE_CYCLES = 0X2E
    CUBE2L0C_WRITE_CYCLES = 0X2F
    TOTAL_L0C_CYCLES = 0X30
    L1_READ_REQ = 0X31
    L1_WRITE_REQ = 0X32
    TOTAL_L1_REQ = 0X33
    L1_READ_CYCLES = 0X34
    L1_WRITE_CYCLES = 0X35
    TOTAL_L1_CYCLES = 0X36
    SCALAR2UB_READ_REQ = 0X37
    SCALAR2UB_WRITE_REQ = 0X38
    TOTAL_SCALAR2UB_REQ = 0X39
    SCALAR2UB_READ_CYCLES = 0X3A
    SCALAR2UB_WRITE_CYCLES = 0X3B
    TOTAL_SCALAR2UB_CYCLES = 0X3C
    MTE2UB_READ_REQ = 0X3D
    MTE2UB_WRITE_REQ = 0X3E
    TOTAL_MTE2UB_REQ = 0X3F
    MTE2UB_READ_CYCLES = 0X40
    MTE2UB_WRITE_CYCLES = 0X41
    TOTAL_MTE2UB_CYCLES = 0X42
    VEC2UB_READ_REQ = 0X43
    VEC2UB_WRITE_REQ = 0X44
    TOTAL_VEC2UB_REQ = 0X45
    VEC2UB_READ_CYCLES = 0X46
    VEC2UB_WRITE_CYCLES = 0X47
    TOTAL_VEC2UB_CYCLES = 0X48
    CUBE_FP16_EXEC = 0X49
    CUBE_INT8_EXEC = 0X4A
    VEC_FP32_EXEC = 0X4B
    VEC_FP16_128LANE_EXEC = 0X4C
    VEC_FP16_64LANE_EXEC = 0X4D
    VEC_INT32_EXEC = 0X4E
    VEC_MISC_EXEC = 0X4F
    FLOW_CTRL_EXEC = 0X50
    LOOP_EXEC = 0X51
    LOOP_SLOT0_EXEC = 0X52
    LOOP_SLOT1_EXEC = 0X53
    ICACHE_REQ = 0X54
    ICACHE_MISS = 0X55
    ICACHE_PREFETCH = 0X56
    SCALAR_WAITFLAG_CYCLES = 0X57
    CUBE_WAITFLAG_CYCLES = 0X58
    VEC_WAITFLAG_CYCLES = 0X59
    MTE1_WAITFLAG_CYCLES = 0X5A
    MTE2_WAITFLAG_CYCLES = 0X5B
    MTE3_WAITFLAG_CYCLES = 0X5C
    INDIR_JUMP_INSTR = 0X5D
    FLOW_CTRL_PREDICTED = 0X5E
    MISPREDICTED_INSTR = 0X5F
    SCALAR_DIV_EXEC = 0X60
    SCALAR_DIV_CYCLES = 0X61
    SCALAR_MULT_EXEC = 0X62
    SCALAR_MADD_EXEC = 0X63
    BANKGROUP_STALL_CYCLES = 0X64
    BANK_STALL_CYCLES = 0X65
    VEC_RESC_CONFLICT_CYCLES = 0X66
    MTE_CONFLICT_CYCLES = 0X67
    VEC_INSTR_FLUSHED = 0X68
    MTE_STALLED_BY_UB = 0X69
    SCALAR_STALLED_BY_UB = 0X6A
    MTE1_IQ_FULL_CYCLES = 0X6B
    MTE2_IQ_FULL_CYCLES = 0X6C
    MTE3_IQ_FULL_CYCLES = 0X6D
    CUBE_IQ_FULL_CYCLES = 0X6E
    VEC_IQ_FULL_CYCLES = 0X6F
    SINLGE_ISSUE_CYCLES = 0X70
    DUAL_ISSUE_CYCLES = 0X71
    IB_EMPTY_CYCLES = 0X72
    SCALAR_ONLY_CYCLES = 0X73
    FMC_FAIL_TIMES = 0X74
    FMD_WORK_CYCLES = 0X75
    FMD_IDLE_CYCLES = 0X76
    UNZIP_WORK_CYCLES = 0X77
    UNZIP_IDLE_CYCLES = 0X78
    CUBE_L0C_STALL = 0X79
    VEC_WRITEBACK_STALL = 0X7A
    LATENCY_HISTOGRAM0 = 0X7B
    LATENCY_HISTOGRAM1 = 0X7C
    LATENCY_HISTOGRAM2 = 0X7D
    LATENCY_HISTOGRAM3 = 0X7E
    LATENCY_HISTOGRAM4 = 0X7F
    LATENCY_HISTOGRAM5 = 0X80
    LATENCY_HISTOGRAM6 = 0X81
    OUTSTANDING_HISTOGRAM0 = 0X82
    OUTSTANDING_HISTOGRAM1 = 0X83
    OUTSTANDING_HISTOGRAM2 = 0X84
    OUTSTANDING_HISTOGRAM3 = 0X85
    OUTSTANDING_HISTOGRAM4 = 0X86


class L2EventID(Enum):
    # V200_METRIC0 = 0x78  # request
    # V200_METRIC1 = 0x79  # request
    # V200_METRIC2 = 0x77
    # V200_METRIC3 = 0x71  # victim
    # V200_METRIC4 = 0x6a  # hit
    # V200_METRIC5 = 0x6c
    # V200_METRIC6 = 0x74
    # V200_METRIC7 = 0x62
    V100_910_SDMA_SMALL_PACKAGE = 0x50
    V100_910_SDMA_READ = 0x51
    V100_910_SDMA_WRITE = 0x52
    V100_910_SDMA_ATOMIC_ADD = 0x53
    V100_910_SDMA_ATOMIC_MAX = 0x54
    V100_910_SDMA_ATOMIC_MIN = 0x55
    V100_910_SDMA_NOT_ALIGN = 0x56
    V100_910_SDMA_LONGATOMIC = 0x57
    V100_910_SDMA_LONGREQ = 0x58
    V100_910_DHA_AICORE_REQ = 0x59
    V100_910_DHA_AICORE_DIR_HIT = 0x5a
    V100_910_DHA_AICORE_L2_HIT = 0x5b
    V100_910_DHA_AICORE_VICTIM = 0x5c
    V100_910_DHA_L2_HIT = 0x5d
    V100_910_DHA_L2_ALLOC = 0x5e
    V100_910_DHA_L2_BYPATH_WRITE = 0x5f
    V100_910_DHA_ATOMIC = 0x64
    V100_910_PIPELINE_AICORE_L2_HIT = 0x6e
    V100_910_PIPELINE_AICORE_DIR_HIT = 0x6f
    V100_910_NON_AICORE_L2_HIT = 0x70
    V100_910_AICORE_ALLOC_REQ = 0x71
    V100_910_AICORE_WRITE_THROUGH_REQ = 0x72
    V100_910_AICORE_WRITE_THROUGH_SUC = 0x73
    V100_910_AICORE_DIRTY_CLEAR = 0x74
    V100_910_AICORE_DIRTY_ALL_FLUSH = 0x75
    V100_910_PIPELINE_AICORE_VICTIM = 0x76
    V100_910_NON_AICORE_VICTIM = 0x77
    V100_910_AICORE_ZEROCNT_L2_ENTRY_REPLACE = 0x78
    V100_910_AICORE_ONECNT_L2_ENTRY_REPLACE = 0x79
    V100_910_AICORE_READLAST = 0x7a
    V100_910_AICORE_READINVALID = 0x7b
    V100_910_AICORE_READ_NON_WRITE_THROUGH_REQ = 0x7c
    V100_910_AICORE_READ_REQ = 0x7d
    V100_910_AICORE_WRITE_REQ = 0x7e
    V100_910_AICORE_READ_HIT_L2_FORWARD = 0x7f
    V100_910_READ_ALLOCATE_L2_DHA_SPLIT_COUNT = 0x80
    V100_910_READ_ALLOCATE_L2_BUFFER_SPLIT_COUNT = 0x81
